### Machine Learning for page generation
행이나 페이지의 품질을 평가하는 스코어링 함수는 개인화된 페이지 구축의 핵심이다. 휴리스틱한 방법이나 직관을 사용할 수도 있지만, 새로운 데이터를 쉽게 통합하고 홈페이지의 다양한 측면의 균형을 맞출 수 있도록 모델 학습을 시키는 것이 좋다. 머신러닝을 사용하여 홈페이지에서 유저가 실제로 보는 것, 상호 작용하는 방법, 시청하는 패턴으로 스코어링 함수를 만들 수 있다.

행을 표현하는 많은 피처들을 만들 수 있다. 한 행에는 한 주제의 영상 세트가 있으므로, 행을 집계하거나 인덱싱하여 피처를 만들 수 있다. 행과 관련된 증거의 품질을 볼 수도 있고, 해당 행이나 유사한 행을 유저가 시청했었는지 확인할 수 있다.
  - 특정 장르에 관심이 있는 유저가 얼마나 많은 support가 있었는지

간단한 설명 피처를 만들 수도 있다.
  - 연속된 영상의 수
  - 페이지에서 행이 배치되는 위치
  - 행을 표시한 빈도
  
페이지의 나머지 부분과 비교해볼 수도 있다.
  - 행이 나머지 행과 얼마나 유사한지
  - 행의 영상이 나머지 행의 영상과 얼마나 유사한지

개인적으로 

잠재적으로 유용한 피처의 공간은 상당히 크지만, 행 점수 매기기 위한 머신러닝 모델 학습에는 몇 가지 문제가 있다. 한 가지 문제는 프레젠테이션 편향을 처리하는 것이다. 유저는 보여지는 행에서만 시청할 수 있으며, 이는 학습 데이터에 큰 영향을 미칠 수 있다. 더 복잡하게 하기위해, 페이지에서 행의 위치는 구성원이 실제로 행을 보고 그 행에서 재생을 선택하는지 여부에 큰 영향을 줄 수 있다. 이러한 표현 및 위치 편향을 처리하려면 알고리즘을 위한 학습 데이터를 선택하는 방법에 대해 주의해야한다. 모델에서 어트리뷰션이 허용되는 방식에 대한 문제도 있다. 영상이 특정 행에서 재생되었다는 것이 다른 행의 첫번째 위치에 배치 되었다면 유저가 동일한 영상을 선택했을까? 행의 제목이 "Critically Acclaimed Documentaries"인 것이 시청의 원인일 수 있다. 반면에 더 좋은 위치에 있더라도 "New Releases"은 선택되지 않을 가능성이 크다. 페이지의 다른 위치에 있는 잠재적 행의 공간은 크지만 페이지의 나머지 부분(또는 이미 선택한 행)의 공간은 훨씬 더 크기 때문에, 다양성을 나타내는 피처를 학습시키는 것도 어려울 수 있다.

### Page-level metrics
모든 알고리즘이 그렇듯 적절한 메트릭을 선택하는 것이 중요하다. 근본적으로 중요한 것은 오프라인 실험 중에  알고리즘이 생성한 페이지의 품질을 평가하는 방법이다. A/B테스트에서 알고리즘 개선 사항을 온라인으로 테스트 하지만, 페이지의 품질을 향상시킬 수 있는 알고리즘에 A/B테스트 리소스를 집중해야 한다. 또한 A/B테스트 전에 알고리즘의 매개 변수를 조정할 수 있어야 한다. 이를 통해 페이지 품질에 대한 좋은 메트릭을 선택한다면, 데이터로 새로운 알고리즘에서 가상의 페이지를 만들 수 있다.

페이지 수준의 메트릭을 만들기 위해, 1차원 리스트에 대한 순위 메트릭(정보 검색에서 많이 사용됨.[참고](https://nlp.stanford.edu/IR-book/pdf/08eval.pdf))에서 영감을 얻어 2차원 레이아웃에서 작동하는 메트릭을 만들었다. 예를 들어, 상위 n개의 관련 항목 수를 관련 항목의 총 수로 나눈 값을 측정하는 Recall@n과 같은 간단한 메트릭을 고려해보자. Recall@m-by-n이 되도록 2차원으로 확장할 수 있다. 즉, 처음 m개 행과 n개 열의 관련 항목 수를 총 관련 항목 수로 나눈 값을 계산한다. 따라서 Recall@3x4는 처음에 한 번에 3개의 행과 4개의 영상을 표시할 수 있는 장치의 뷰포트에 표시되는 영상의 품질을 나타낼 수 있다. 이러한 방식으로 정의된 recall은 중복된 영상이나 짧은 행과 같은 코너-케이스(corner-cases)를 자동으로 처리 할 수 있다. 또한 n이나 m값 중 하나를 고정하고 다른 값을 스윕하여 유저가 페이지를 아래로 스크롤 할 때 뷰포트에서 recall이 어떻게 증가하는지 계산할 수 있다.

### Other challenges
홈페이지 엔지니어링에서 제기되는 질문은 적지 않다. 예를 들면, 다음과 같은 질문이 있다.
  - 시간, 기기와 같은 다른 컨텍스트 변수를 고려하기에 적절한 시점은 언제인가? 
  - 최적의 페이지를 찾는 것과 계산 비용은 trade-off 관계에 있는데, 적절한 지점은 어떻게 찾을 수 있나? 
  - 처음 몇 세션이 중요한데, 이 시점에는 정확히 정보가 가장 적다. 홈페이지를 어떻게 구성할 수 있을까?
  
Netflix 홈페이지를 지속적으로 개선하기 위해 매일 이러한 질문의 중요성을 생각하고 평가해야한다.
